# Sesicthub Headless WooCommerce Storefront (Astro + Cloudflare Pages)

Static-first storefront for `sesicthub.co.ke`, powered by WooCommerce API at build time.

## Environment variables (Cloudflare Pages)

- `WC_BASE_URL` (example: `https://sesicthub.co.ke`)
- `WC_CONSUMER_KEY`
- `WC_CONSUMER_SECRET`
- `WHATSAPP_NUMBER` (example: `+2547XXXXXXXX`)

> Keys are used only by `src/lib/woo.ts` at build time and are never exposed client-side.

## Build/deploy on Cloudflare Pages

1. Push this folder to a Git repository.
2. In Cloudflare Dashboard: **Workers & Pages → Create application → Pages → Connect to Git**.
3. Build settings:
   - Framework preset: `Astro`
   - Build command: `npm run build`
   - Build output directory: `dist`
   - Root directory: `storefront`
4. Add the environment variables above in **Settings → Environment variables**.
5. Deploy.

## WooCommerce auto-rebuild webhook wiring

1. In Cloudflare Pages project: **Settings → Builds & deployments → Deploy hooks → Add hook**.
2. Copy deploy hook URL.
3. In WordPress admin: **WooCommerce → Settings → Advanced → Webhooks → Add webhook**.
4. Create webhooks using the deploy hook URL as **Delivery URL**:
   - `Product created`
   - `Product updated`
   - `Product deleted`
   - `Product category created`
   - `Product category updated`
   - `Product category deleted`
5. Set status to `Active` for each webhook.

## Local development

```bash
npm install
npm run dev
```

## SEO and performance

- SSG pages (`output: static`) for traffic spikes.
- Canonical + OpenGraph tags in layout.
- Product JSON-LD in product pages.
- Sitemap generated by `@astrojs/sitemap`.
- `robots.txt` in `public/`.
- Lightweight UI and lazy-loaded product images.
